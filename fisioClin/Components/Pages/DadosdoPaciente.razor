@page "/dadospaciente/{Id:int}"
@using fisioClin.Models
@inject PacienteDAO pacienteDAO
@inject NavigationManager NavManager

@code {
    [Parameter]
    public int Id { get; set; }

    public Paciente Paciente { get; set; } = new Paciente();

    protected override void OnInitialized()
    {
        Paciente = pacienteDAO.BuscarPorId(Id);
        if (Paciente == null)
            Paciente = new Paciente();
    }
}

<div class="container-box mt-4">
    <div class="d-flex align-items-center mb-4">
        <h3 class="titulo-pagina">Dados Paciente</h3>
        <input type="text" class="id-box ms-3" readonly value="@Id" />
        <input type="text" class="nome-bar ms-2" readonly value="@Paciente.Nome" />
    </div>

    <div class="form-container">
        <div class="row">
            <div class="col-md-9">
                <div class="mb-3">
                    <label class="form-label">Nome completo</label>
                    <input type="text" class="form-control" readonly value="@Paciente.Nome" />
                </div>

                <div class="row mb-3">
                    <div class="col-md-4">
                        <label class="form-label">CPF</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Cpf" />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">CEP</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Cep" />
                    </div>

                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">RG</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Rg" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Bairro</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Bairro" />
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="text" class="form-control" readonly
                               value="@Paciente.DataNascimento?.ToString("dd/MM/yyyy")" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Rua</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Rua" />
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Sexo</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Sexo" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Número</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Numero" />
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Email</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Email" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Telefone</label>
                        <input type="text" class="form-control" readonly value="@Paciente.Telefone" />
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-4">
                    <button class="btn-edit me-2">Editar</button>
                    <button class="btn-delete">Excluir</button>
                </div>
            </div>

            <div class="col-md-3 d-flex flex-column align-items-center">
                <img src="/img/avatar.png" alt="Avatar" class="avatar-img" />
                <button class="btn-edit-icon mt-2">
                    <i class="material-icons" style="font-size:16px;">edit</i>
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    .container-box {
        background: #fafafa;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .titulo-pagina {
        color: #701a1a;
        font-weight: 600;
    }

    .id-box {
        width: 70px;
        text-align: center;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 5px;
    }

    .nome-bar {
        flex: 1;
        border-radius: 8px;
        border: 1px solid #ccc;
        padding: 5px 10px;
    }

    .form-container {
        margin-top: 20px;
    }

    .form-label {
        font-weight: 500;
        color: #5a5a5a;
    }

    .form-control[readonly] {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 8px 12px;
    }

    .avatar-img {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #ccc;
    }

    .btn-edit, .btn-delete {
        border-radius: 10px;
        padding: 8px 18px;
        color: #fff;
        font-weight: 500;
        border: none;
    }

    .btn-edit {
        background-color: #7a1a1a;
    }

    .btn-delete {
        background-color: #8b0000;
    }

        .btn-edit:hover, .btn-delete:hover {
            opacity: 0.9;
        }

    .btn-edit-icon {
        background: transparent;
        border: none;
        color: #7a1a1a;
        cursor: pointer;
    }
</style>
