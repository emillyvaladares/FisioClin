@page "/confirmacao"
@inject NavigationManager NavManager

@code {
    string? Data;
    string? Horario;
    string? Sala;
    string? Profissional;
    string? TipoSessao;
    string? Paciente;
    string? Observacao;

    protected override void OnInitialized()
    {
        var uri = new Uri(NavManager.Uri);
        var query = Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery(uri.Query);

        Data = query.TryGetValue("data", out var d) ? d.ToString() : "";
        Horario = query.TryGetValue("horario", out var h) ? h.ToString() : "";
        Sala = query.TryGetValue("sala", out var s) ? s.ToString() : "";
        Profissional = query.TryGetValue("profissional", out var p) ? p.ToString() : "";
        TipoSessao = query.TryGetValue("tipo", out var t) ? t.ToString() : "";
        Paciente = query.TryGetValue("paciente", out var pa) ? pa.ToString() : "";
        Observacao = query.TryGetValue("observacao", out var o) ? o.ToString() : "";
    }
}

<div class="container my-5">
    <h4 class="text-danger fw-bold mb-4">Confirmação de Agendamento</h4>

    <div class="p-4 bg-white shadow rounded">
        <p class="text-success fw-bold">✅ Sessão agendada com sucesso!</p>

        <div class="row mt-3">
            <div class="col-md-4"><strong>Data:</strong><br />@Data</div>
            <div class="col-md-4"><strong>Horário:</strong><br />@Horario</div>
            <div class="col-md-4"><strong>Sala:</strong><br />@Sala</div>
        </div>

        <div class="row mt-3">
            <div class="col-md-6"><strong>Profissional:</strong><br />@Profissional</div>
            <div class="col-md-6"><strong>Tipo de Sessão:</strong><br />@TipoSessao</div>
        </div>

        <div class="row mt-3">
            <div class="col-md-6"><strong>Nome do Paciente:</strong><br />@Paciente</div>
            <div class="col-md-6"><strong>Observação:</strong><br />@Observacao</div>
        </div>

        <div class="mt-4">
            <a class="btn btn-danger" href="/agendarsessao">Agendar Nova Sessão</a>
        </div>
    </div>
</div>

<style>
    .container {
        font-family: 'Roboto', sans-serif;
    }

    .bg-white {
        background-color: #fff;
    }
</style>
