@page "/cargoselecionado/{Id:int}"
@using fisioClin.Models
@inject CargoDAO cargoDAO
@inject NavigationManager NavManager

@code {
    [Parameter]
    public int Id { get; set; }

    public Cargo Cargo { get; set; } = new Cargo();

    protected override void OnInitialized()
    {
        Cargo = cargoDAO.BuscarPorId(Id);
        if (Cargo == null)
            Cargo = new Cargo();
    }
}

<div class="container-box mt-4">
    <div class="d-flex align-items-center mb-4">
        <h3 class="titulo-pagina">Dados do Cargo</h3>
        <input type="text" class="id-box ms-3" readonly value="@Id" />
        <input type="text" class="nome-bar ms-2" readonly value="@Cargo.Nome" />
    </div>

    <div class="form-container">
        <div class="row">
            <div class="col-md-9">

                <!-- Nome -->
                <div class="mb-3">
                    <label class="form-label">Nome do Cargo</label>
                    <input type="text" class="form-control" readonly value="@Cargo.Nome" />
                </div>

                <!-- Departamento + Carga -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Departamento</label>
                        <input type="text" class="form-control" readonly value="@Cargo.Departamento" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Carga Horária</label>
                        <input type="text" class="form-control" readonly value="@Cargo.Carga" />
                    </div>
                </div>

                <!-- Datas -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label class="form-label">Data de Criação</label>
                        <input type="text" class="form-control" readonly
                               value="@Cargo.DataCriacao?.ToString("dd/MM/yyyy")" />
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Última Atualização</label>
                        <input type="text" class="form-control" readonly
                               value="@Cargo.DataAtualizacao?.ToString("dd/MM/yyyy")" />
                    </div>
                </div>

                <!-- Descrição -->
                <div class="mb-3">
                    <label class="form-label">Descrição</label>
                    <textarea class="form-control" rows="4" readonly>@Cargo.Descricao</textarea>
                </div>

                <!-- Observações -->
                <div class="mb-3">
                    <label class="form-label">Observações</label>
                    <input type="text" class="form-control" readonly value="@Cargo.Observacao" />
                </div>

                <div class="d-flex justify-content-end mt-4">
                    <button class="btn-edit me-2">Editar</button>
                    <button class="btn-delete">Excluir</button>
                </div>
            </div>

            <!-- Avatar padrão -->
            <div class="col-md-3 d-flex flex-column align-items-center">
                <img src="/img/avatar.png" alt="Avatar" class="avatar-img" />
                <button class="btn-edit-icon mt-2">
                    <i class="material-icons" style="font-size:16px;">edit</i>
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    .container-box {
        background: #fafafa;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .titulo-pagina {
        color: #701a1a;
        font-weight: 600;
    }

    .id-box {
        width: 70px;
        text-align: center;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 5px;
    }

    .nome-bar {
        flex: 1;
        border-radius: 8px;
        border: 1px solid #ccc;
        padding: 5px 10px;
    }

    .form-container {
        margin-top: 20px;
    }

    .form-label {
        font-weight: 500;
        color: #5a5a5a;
    }

    .form-control[readonly],
    textarea[readonly] {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 8px 12px;
    }

    textarea[readonly] {
        resize: none;
    }

    .avatar-img {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #ccc;
    }

    .btn-edit, .btn-delete {
        border-radius: 10px;
        padding: 8px 18px;
        color: #fff;
        font-weight: 500;
        border: none;
    }

    .btn-edit {
        background-color: #7a1a1a;
    }

    .btn-delete {
        background-color: #8b0000;
    }

    .btn-edit:hover, .btn-delete:hover {
        opacity: 0.9;
    }

    .btn-edit-icon {
        background: transparent;
        border: none;
        color: #7a1a1a;
        cursor: pointer;
    }
</style>
